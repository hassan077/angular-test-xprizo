<div class="card mb-5 mb-xl-10">
    <div
      class="card-header border-0 cursor-pointer"
      role="button"
      data-bs-toggle="collapse"
      data-bs-target="#kt_account_signin_method"
    >
      <div class="card-title m-0">
        <h3 class="fw-bolder m-0">Wallet Exchange</h3>
      </div>
    </div>
    <div id="kt_account_signin_method" class="collapse show">
      <div class="card-body border-top p-9">
        
        <ng-container *ngIf="!showWalletExchangeForm">
          <div class="d-flex flex-wrap align-items-center mb-10">
            <div id="kt_signin_password" class="false">
              <div class="fs-6 fw-bolder mb-1">Click the button to start exchange</div>
            </div>
            <div id="kt_signin_password_button" class="ms-auto false">
              <button
                class="btn btn-light btn-active-light-primary"
                (click)="toggleWalletExchangeForm(true)"
              >
                Exchange
              </button>
            </div>
          </div>
        </ng-container>
  
        <ng-container *ngIf="showWalletExchangeForm">
          <div class="d-flex flex-wrap align-items-center mb-10">
            <div id="kt_signin_password_edit" class="flex-row-fluid false">
              <form class="form" [formGroup]="exchangeForm" (ngSubmit)="onSubmit()">
                <div class="row mb-1">
                  <div class="col-lg-6">
                    <div class="fv-row mb-0">
                      <label
                        for="toAccountId"
                        class="form-label fs-6 fw-bolder mb-3"
                        >To Wallet</label>
                      <select
                        class="form-select form-select-solid form-select-lg"
                        name="toAccountId"
                        formControlName="toAccountId"
                      >
                        <option value="">choose a wallet..</option>
                        <option [value]="wallet.id" *ngFor="let wallet of availableUserWallets">{{wallet.currencyCode}} - {{wallet.symbol}}</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="fv-row mb-0">
                      <label
                        for="amount"
                        class="form-label fs-6 fw-bolder mb-3"
                        >Amount </label
                      ><input
                        type="number"
                        class="form-control form-control-lg form-control-solid"
                        name="amount"
                        formControlName="amount"
                      />
                    </div>
                  </div>
                </div>
                <div class="form-text mb-5">
                  The amount should be smaller then the selected wallet balance.
                </div>
                <div class="d-flex">
                  <button
                    type="submit"
                    class="btn btn-primary me-2 px-6"
                  >
                    <ng-container *ngIf="!(isLoading$ | async)"
                      >Transfer Amount</ng-container
                    >
                    <ng-container *ngIf="(isLoading$ | async)">
                      <span class="indicator-progress" [style.display]="'block'">
                        Please wait...{{ " " }}
                        <span
                          class="
                            spinner-border spinner-border-sm
                            align-middle
                            ms-2
                          "
                        ></span>
                      </span>
                    </ng-container></button
                  ><button
                    type="button"
                    class="btn btn-color-gray-400 btn-active-light-primary px-6"
                    (click)="toggleWalletExchangeForm(false)"
                  >
                    Cancel
                  </button>
                </div>
              </form>
            </div>
          </div>
        </ng-container>
  
      </div>
    </div>
  </div>
  